---
title: Operating System -Chapter 6
commentable: false
date: 2023-02-17
modified: true
Edit: 2023-02-17
mathjax: true
mermaid: true
tags: Operating-System notes
categories: study notes
description: 操作系统学习笔记：文件管理
status: Writing
---

# 文件分配方式

## 连续分配

- 优点：顺序访问容易并且速度快，支持直接存取
- 缺点：必须要求有连续的存储空间，空间利用率低。必须实现知道文件的长度

|文件名|起始块号|长度|
|-|-|-|
|...|...|...|

## 链接分配(隐式)

|文件名|起始块号|结束块号|
|-|-|-|
|...|...|...|

- 优点：方便拓展，不会有磁盘脆片问题，外存利用率高
- 缺点：只支持顺序访问，效率很低

## 链接分配(显式)

显示链接会包含一个文件分配表将各块的指针存入表中

|文件名|开始块号|
|-|-|
|...|...|

- 优点：不会有碎皮，可以随机访问，访问效率高
- 缺点：FAT文件分配表会占用空间

## 索引分配

由于链接分配的文件分配表占用空间较多，并且盘块号随机，不能支持高效的随机存取，故所以这里直接将文件所占用的盘块号直接存到索引块中（类似页表）

索引分配同时还有多层索引、混合索引的分配方式

<img src="https://raw.githubusercontent.com/adoptedirelia/adoptedirelia.github.io/main/_posts/2023-02-16-OS/pic12.png" width="50%"> 


# 文件储存空间管理

## 空闲表法

|第一个空闲盘块号|空闲块数|
|-|-|
|...|...|

## 空闲链表法  

将空闲的盘块/盘区链接成一条链

## 位视图法

<img src="https://raw.githubusercontent.com/adoptedirelia/adoptedirelia.github.io/main/_posts/2023-02-16-OS/pic14.png" width="50%"> 

## 成组链接法

<img src="https://raw.githubusercontent.com/adoptedirelia/adoptedirelia.github.io/main/_posts/2023-02-16-OS/pic13.png" width="50%"> 
